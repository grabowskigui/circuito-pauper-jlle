<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPJ | Circuito Pauper Joinville</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --cpj-blue: #0a2240; --cpj-red: #e31d1a; }
        body { background-color: #ffffff; font-family: 'Inter', sans-serif; color: #1a1a1a; scroll-behavior: smooth; }
        .text-cpj-blue { color: var(--cpj-blue); }
        .bg-cpj-blue { background-color: var(--cpj-blue); }
        .border-cpj-red { border-color: var(--cpj-red); }
    </style>
</head>
<body>

    <nav class="bg-white/90 backdrop-blur-md border-b border-gray-100 py-6 px-12 flex justify-between items-center sticky top-0 z-50">
        <div class="flex items-center">
        </div>
        <div class="hidden md:flex gap-12 font-bold text-[11px] uppercase tracking-[0.2em] text-gray-400">
            <a href="#ranking" class="hover:text-[#0a2240] transition-colors">Ranking</a>
            <a href="#proximos-eventos" class="hover:text-[#0a2240] transition-colors">Calend√°rio</a>
            <a href="#campeoes" class="hover:text-[#0a2240] transition-colors">Hall da Fama</a>
        </div>
        <a href="https://chat.whatsapp.com/GtbH7LexnG53Oot2pWfOOl" target="_blank" class="bg-[#25D366] text-white px-8 py-3 rounded-full font-black text-[10px] tracking-widest shadow-lg hover:scale-105 transition-all">
            WHATSAPP
        </a>
    </nav>

    <header id="home" class="pt-8 pb-16 px-6 text-center max-w-7xl mx-auto">
        <div class="mb-4">
            <img src="img/logo-cpj.png" alt="Logo CPJ" class="w-64 md:w-[380px] mx-auto drop-shadow-2xl animate-in zoom-in duration-700">
        </div>
        <div class="overflow-visible pb-2"> 
            <h1 class="text-5xl md:text-8xl font-black text-[#0a2240] tracking-tighter uppercase italic leading-[0.9] flex flex-col items-center">
                <span class="block">CIRCUITO PAUPER</span>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-red-800 pr-4 py-1">JOINVILLE</span>
            </h1>
        </div>
        <p class="text-gray-400 text-lg md:text-xl font-medium max-w-2xl mx-auto leading-relaxed mt-4">
            Onde os comuns se tornam lendas. Temporada 2026.
        </p>
    </header>

    <section id="ranking" class="py-20 bg-gray-50 px-6">
        <div class="max-w-4xl mx-auto text-center">
            <h2 class="text-4xl font-black uppercase italic tracking-tighter text-cpj-blue mb-12">Ranking Geral</h2>
            <div class="bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100 min-h-[500px]">
                <table class="w-full text-sm">
                    <thead>
                        <tr class="text-left text-[10px] uppercase tracking-widest text-gray-400 border-b">
                            <th class="p-6 text-center">Pos</th>
                            <th class="p-6">Jogador</th>
                            <th class="p-6 text-right">Pontos</th>
                        </tr>
                    </thead>
                    <tbody id="tabela-ranking-body" class="divide-y divide-gray-50"></tbody>
                </table>
            </div>
            <div class="mt-10 flex justify-center items-center gap-6">
                <button onclick="mudarPagina(-1)" id="btn-prev" class="p-3 rounded-full border border-gray-200 text-gray-400 hover:border-cpj-red hover:text-cpj-red disabled:opacity-30 disabled:cursor-not-allowed transition-all">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M15 19l-7-7 7-7"></path></svg>
                </button>
                <div class="flex flex-col">
                    <span id="info-pagina" class="text-[10px] font-black uppercase tracking-widest text-cpj-blue">P√°gina 1</span>
                    <span id="info-posicao" class="text-[9px] text-gray-400 font-bold uppercase tracking-tight">Mostrando 1-8</span>
                </div>
                <button onclick="mudarPagina(1)" id="btn-next" class="p-3 rounded-full border border-gray-200 text-gray-400 hover:border-cpj-red hover:text-cpj-red disabled:opacity-30 disabled:cursor-not-allowed transition-all">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M9 5l7 7-7 7"></path></svg>
                </button>
            </div>
        </div>
    </section>

    <section id="proximos-eventos" class="py-24 px-6 bg-white">
        <div class="max-w-4xl mx-auto">
            <div class="text-center mb-16">
                <h2 class="text-4xl font-black text-cpj-blue uppercase italic tracking-tighter">üóìÔ∏è Calend√°rio de Etapas</h2>
                <p class="text-gray-400 font-bold uppercase text-[10px] tracking-[0.3em] mt-2">Temporada 2026</p>
            </div>
            <div id="calendario-container" class="grid gap-3"></div>
            <div class="text-center mt-10">
                <button id="btn-expandir" onclick="toggleCalendario()" class="inline-flex items-center gap-2 border-2 border-gray-100 text-gray-400 font-black text-xs px-8 py-4 rounded-full hover:border-cpj-red hover:text-cpj-red transition-all uppercase tracking-widest">
                    <span>Ver Calend√°rio Completo</span>
                    <svg id="seta-expandir" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M19 9l-7 7-7-7"></path></svg>
                </button>
            </div>
        </div>
    </section>

<section id="campeoes" class="py-24 px-6 max-w-6xl mx-auto border-t border-gray-100">
    <h2 class="text-4xl font-black text-cpj-blue mb-16 uppercase italic tracking-tighter text-center">üèÜ Hall da Fama</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-12">
        
        <div class="group relative pt-16">
            <div class="bg-white rounded-[2rem] border border-gray-100 shadow-xl p-8 pt-16 text-center group-hover:shadow-2xl transition-all duration-300 border-b-8 border-red-600">
                <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 w-32 h-32 rounded-full border-8 border-white shadow-lg overflow-hidden z-10">
                    <img src="IMG/AVATAR GUI.jpeg" alt="Campe√£o" class="w-full h-full object-cover">
                </div>
                
                <span class="text-[10px] font-black tracking-[0.3em] text-red-600 uppercase block mb-2">Vencedor Etapa #1</span>
                <h3 class="text-2xl font-black text-cpj-blue mb-2 leading-tight italic">Leonardo Especulator</h3>
                
                <p class="text-[#0a2240] font-bold text-sm uppercase tracking-widest mb-8 opacity-60 italic">Kuldotha Red</p>

                <a href="https://moxfield.com/decks/MjxXvDDSxk2f_oshjL2YQA" target="_blank" class="inline-block w-full py-5 bg-[#0a2240] text-white rounded-2xl font-black text-xs tracking-widest hover:bg-black transition-all shadow-lg uppercase">
                    View Decklist
                </a>
            </div>
        </div>

        </div>
</section>

    <footer class="bg-[#0a2240] text-white py-10 px-6 border-t border-white/5">
        <div class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-3 gap-16 md:gap-8">
            <div class="flex flex-col items-center md:items-start text-center md:text-left">
                <img src="img/logo-cpj.png" alt="Logo CPJ" class="h-40 w-auto mb-16 grayscale brightness-200 opacity-75">
                <p class="text-gray-400 text-sm leading-relaxed max-w-xs uppercase font-bold tracking-tighter">
                    Circuito Pauper Joinville.<br>
                    Onde os comuns se tornam lendas. Temporada 2026.
                </p>
            </div>
            <div class="flex flex-col items-center text-center">
                <h4 class="text-xs font-black uppercase tracking-[0.3em] mb-8 text-red-600">Comunidade</h4>
                <div class="flex flex-col gap-4">
                    <a href="https://chat.whatsapp.com/GtbH7LexnG53Oot2pWfOOl" target="_blank" class="text-sm font-bold hover:text-red-600 transition-colors uppercase tracking-widest">WhatsApp</a>
                    <a href="https://www.instagram.com/jpcpauper/" class="text-sm font-bold hover:text-red-600 transition-colors uppercase tracking-widest">Instagram</a>
                    <a href="#" class="text-sm font-bold hover:text-red-600 transition-colors uppercase tracking-widest">Youtube</a>
                </div>
            </div>
            <div class="flex flex-col items-center md:items-end text-center md:text-right">
                <h4 class="text-xs font-black uppercase tracking-[0.3em] mb-8 text-red-600">Apoio</h4>
                <a href="https://www.magigames.com.br/" target="_blank" class="text-sm font-bold text-gray-400 uppercase tracking-widest mb-2">Magi Games</a>
                <p class="text-[10px] text-gray-500 uppercase tracking-widest">Joinville, SC</p>
                <div class="mt-8">
                </div>
            </div>
        </div>
        <div class="max-w-7xl mx-auto mt-20 pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-4">
            <p class="text-[9px] font-bold text-gray-600 uppercase tracking-[0.3em]">¬© 2026 Circuito Pauper Joinville</p>
            <p class="text-[9px] font-bold text-gray-600 uppercase tracking-[0.3em]">Desenvolvido para a Comunidade</p>
        </div>
    </footer>

    <script>
        // L√ìGICA DO RANKING
        const SHEET_CSV_URL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSs3dG3a3b_rjQlUwFZL3G48wOoTv5OSnnRtNsan7sk56QWe4Lf02uQ8X-ltOoD2kOczcmv6K_387gs/pub?output=csv';
        let rankingCompleto = [];
        let paginaAtual = 1;
        const jogadoresPorPagina = 8;

        async function carregarRanking() {
            try {
                const response = await fetch(SHEET_CSV_URL);
                const data = await response.text();
                rankingCompleto = data.split('\n').slice(1).filter(l => l.trim() !== "");
                renderRanking();
            } catch (error) {
                document.getElementById('tabela-ranking-body').innerHTML = '<tr><td colspan="3" class="p-10 text-red-500 text-center">Erro ao carregar dados.</td></tr>';
            }
        }

        function renderRanking() {
            const tbody = document.getElementById('tabela-ranking-body');
            const inicio = (paginaAtual - 1) * jogadoresPorPagina;
            const fim = inicio + jogadoresPorPagina;
            const listaParaExibir = rankingCompleto.slice(inicio, fim);

            tbody.innerHTML = listaParaExibir.map((linha, index) => {
                const colunas = linha.split(',');
                const posReal = inicio + index + 1;
                const nome = colunas[1]?.trim() || "---";
                const pontos = colunas[2]?.trim() || "0";
                let corPos = 'text-gray-400';
                if (posReal === 1) corPos = 'text-yellow-500';
                if (posReal === 2) corPos = 'text-gray-400 font-bold';
                if (posReal === 3) corPos = 'text-amber-600';
                return `
                    <tr class="hover:bg-gray-50 transition">
                        <td class="p-6 font-black text-xl ${corPos} italic w-20 text-center">${posReal}¬∫</td>
                        <td class="p-6 font-bold text-gray-800 uppercase tracking-tight text-left">${nome}</td>
                        <td class="p-6 text-right font-black text-cpj-blue italic">${pontos} pts</td>
                    </tr>
                `;
            }).join('');
            document.getElementById('info-pagina').innerText = `P√°gina ${paginaAtual}`;
            document.getElementById('info-posicao').innerText = `Mostrando ${inicio + 1}-${Math.min(fim, rankingCompleto.length)}`;
            document.getElementById('btn-prev').disabled = paginaAtual === 1;
            document.getElementById('btn-next').disabled = fim >= rankingCompleto.length;
        }

        function mudarPagina(direcao) {
            paginaAtual += direcao;
            renderRanking();
            document.getElementById('ranking').scrollIntoView({ behavior: 'smooth' });
        }

        // L√ìGICA DO CALEND√ÅRIO
        const etapas = [
            { n: '01', data: '06/01/2026', valor: 'R$ 20,00', local: 'Magi Games' },
            { n: '02', data: '13/01/2026', valor: 'R$ 20,00', local: 'Magi Games' },
            { n: '03', data: '20/01/2026', valor: 'R$ 20,00', local: 'Magi Games' },
            { n: '04', data: '27/01/2026', valor: 'R$ 20,00', local: 'Magi Games' },
            { n: '05', data: '03/02/2026', valor: 'R$ 20,00', local: 'Magi Games' },
            { n: '06', data: '10/02/2026', valor: 'R$ 20,00', local: 'Magi Games' },
            { n: '07', data: '17/02/2026', valor: 'R$ 20,00', local: 'Magi Games' },
            { n: '08', data: '24/02/2026', valor: 'R$ 20,00', local: 'Magi Games' },
            { n: '09', data: '03/03/2026', valor: 'R$ 20,00', local: 'Magi Games' },
            { n: '10', data: '10/03/2026', valor: 'R$ 20,00', local: 'Magi Games' }
        ];

        let expandido = false;
        function renderCalendario() {
            const container = document.getElementById('calendario-container');
            const listaParaExibir = expandido ? etapas : etapas.slice(0, 4);
            container.innerHTML = listaParaExibir.map(e => `
                <div class="flex flex-col md:flex-row md:items-center justify-between p-5 rounded-2xl border border-gray-100 hover:border-cpj-red hover:shadow-md transition-all group bg-white">
                    <div class="mb-3 md:mb-0">
                        <span class="text-[9px] font-black ${e.n === '01' ? 'text-red-600' : 'text-gray-400'} uppercase tracking-widest">Etapa ${e.n}</span>
                        <h3 class="text-md font-black text-cpj-blue uppercase italic">Circuito Pauper Joinville</h3>
                    </div>
                    <div class="grid grid-cols-3 md:flex gap-6 text-[11px] font-bold uppercase text-gray-600">
                        <div class="flex flex-col"><span class="text-gray-400 text-[9px] mb-1 font-normal">Data</span>${e.data}</div>
                        <div class="flex flex-col"><span class="text-gray-400 text-[9px] mb-1 font-normal">Valor</span>${e.valor}</div>
                        <div class="flex flex-col"><span class="text-gray-400 text-[9px] mb-1 font-normal">Local</span>${e.local}</div>
                    </div>
                </div>
            `).join('');
        }

        function toggleCalendario() {
            expandido = !expandido;
            renderCalendario();
            const btn = document.getElementById('btn-expandir');
            const seta = document.getElementById('seta-expandir');
            btn.querySelector('span').innerText = expandido ? 'Mostrar Menos' : 'Ver Calend√°rio Completo';
            seta.style.transform = expandido ? 'rotate(180deg)' : 'rotate(0deg)';
        }

        // Inicializa√ß√£o
        carregarRanking();
        renderCalendario();
    </script>
</body>
</html>